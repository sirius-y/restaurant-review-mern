{"ast":null,"code":"import _slicedToArray from\"D:/Projects (Learning)/mern project 1/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import RestaurantDataService from\"../services/restaurant\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RestaurantsList=function RestaurantsList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),restaurants=_useState2[0],setRestaurants=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchName=_useState4[0],setSearchName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchZip=_useState6[0],setSearchZip=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchCuisine=_useState8[0],setSearchCuisine=_useState8[1];var _useState9=useState([\"All Cuisines\"]),_useState10=_slicedToArray(_useState9,2),cuisines=_useState10[0],setCuisines=_useState10[1];useEffect(function(){retrieveRestaurants();retrieveCuisines();},[]);var onChangeSearchName=function onChangeSearchName(e){var searchName=e.target.value;setSearchName(searchName);};var onChangeSearchZip=function onChangeSearchZip(e){var searchZip=e.target.value;setSearchZip(searchZip);};var onChangeSearchCuisine=function onChangeSearchCuisine(e){var searchCuisine=e.target.value;setSearchCuisine(searchCuisine);};var retrieveRestaurants=function retrieveRestaurants(){RestaurantDataService.getAll().then(function(response){console.log(response.data);setRestaurants(response.data.restaurants);}).catch(function(e){console.log(e);});};var retrieveCuisines=function retrieveCuisines(){RestaurantDataService.getCuisines().then(function(response){console.log(response.data);setCuisines([\"All Cuisines\"].concat(response.data));}).catch(function(e){console.log(e);});};var refreshList=function refreshList(){retrieveRestaurants();};var find=function find(query,by){RestaurantDataService.find(query,by).then(function(response){console.log(response.data);setRestaurants(response.data.restaurants);}).catch(function(e){console.log(e);});};var findByName=function findByName(){find(searchName,\"name\");};var findByZip=function findByZip(){find(searchZip,\"zipcode\");};var findByCuisine=function findByCuisine(){if(searchCuisine==\"All Cuisines\"){refreshList();}else{find(searchCuisine,\"cuisine\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row pb-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-lg-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by name\",value:searchName,onChange:onChangeSearchName}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findByName,children:\"Search\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-lg-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by zip\",value:searchZip,onChange:onChangeSearchZip}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findByZip,children:\"Search\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-lg-4\",children:[/*#__PURE__*/_jsx(\"select\",{onChange:onChangeSearchCuisine,children:cuisines.map(function(cuisine){return/*#__PURE__*/_jsxs(\"option\",{value:cuisine,children:[\" \",cuisine.substr(0,20),\" \"]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findByCuisine,children:\"Search\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:restaurants.map(function(restaurant){var address=\"\".concat(restaurant.address.building,\" \").concat(restaurant.address.street,\", \").concat(restaurant.address.zipcode);return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 pb-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:restaurant.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cuisine: \"}),restaurant.cuisine,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),address]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/restaurants/\"+restaurant._id,className:\"btn btn-primary col-lg-5 mx-1 mb-1\",children:\"View Reviews\"}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"https://www.google.com/maps/place/\"+address,className:\"btn btn-primary col-lg-5 mx-1 mb-1\",children:\"View Map\"})]})]})})});})})]});};export default RestaurantsList;","map":{"version":3,"sources":["D:/Projects (Learning)/mern project 1/frontend/src/components/restaurants-list.js"],"names":["React","useState","useEffect","RestaurantDataService","Link","RestaurantsList","props","restaurants","setRestaurants","searchName","setSearchName","searchZip","setSearchZip","searchCuisine","setSearchCuisine","cuisines","setCuisines","retrieveRestaurants","retrieveCuisines","onChangeSearchName","e","target","value","onChangeSearchZip","onChangeSearchCuisine","getAll","then","response","console","log","data","catch","getCuisines","concat","refreshList","find","query","by","findByName","findByZip","findByCuisine","map","cuisine","substr","restaurant","address","building","street","zipcode","name","_id"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,qBAAP,KAAkC,wBAAlC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,eACOL,QAAQ,CAAC,EAAD,CADf,wCACxBM,WADwB,eACXC,cADW,8BAEMP,QAAQ,CAAC,EAAD,CAFd,yCAExBQ,UAFwB,eAEZC,aAFY,8BAGIT,QAAQ,CAAC,EAAD,CAHZ,yCAGxBU,SAHwB,eAGbC,YAHa,8BAIYX,QAAQ,CAAC,EAAD,CAJpB,yCAIxBY,aAJwB,eAITC,gBAJS,8BAKCb,QAAQ,CAAC,CAAC,cAAD,CAAD,CALT,0CAKxBc,QALwB,gBAKdC,WALc,gBAO/Bd,SAAS,CAAC,UAAM,CACde,mBAAmB,GACnBC,gBAAgB,GACjB,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,CAAC,CAAI,CAC9B,GAAMX,CAAAA,UAAU,CAAGW,CAAC,CAACC,MAAF,CAASC,KAA5B,CACAZ,aAAa,CAACD,UAAD,CAAb,CACD,CAHD,CAKA,GAAMc,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAH,CAAC,CAAI,CAC7B,GAAMT,CAAAA,SAAS,CAAGS,CAAC,CAACC,MAAF,CAASC,KAA3B,CACAV,YAAY,CAACD,SAAD,CAAZ,CACD,CAHD,CAKA,GAAMa,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAAAJ,CAAC,CAAI,CACjC,GAAMP,CAAAA,aAAa,CAAGO,CAAC,CAACC,MAAF,CAASC,KAA/B,CACAR,gBAAgB,CAACD,aAAD,CAAhB,CAED,CAJD,CAMA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChCd,qBAAqB,CAACsB,MAAtB,GACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAtB,cAAc,CAACmB,QAAQ,CAACG,IAAT,CAAcvB,WAAf,CAAd,CAED,CALH,EAMGwB,KANH,CAMS,SAAAX,CAAC,CAAI,CACVQ,OAAO,CAACC,GAAR,CAAYT,CAAZ,EACD,CARH,EASD,CAVD,CAYA,GAAMF,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7Bf,qBAAqB,CAAC6B,WAAtB,GACGN,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAd,WAAW,CAAC,CAAC,cAAD,EAAiBiB,MAAjB,CAAwBN,QAAQ,CAACG,IAAjC,CAAD,CAAX,CAED,CALH,EAMGC,KANH,CAMS,SAAAX,CAAC,CAAI,CACVQ,OAAO,CAACC,GAAR,CAAYT,CAAZ,EACD,CARH,EASD,CAVD,CAYA,GAAMc,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBjB,mBAAmB,GACpB,CAFD,CAIA,GAAMkB,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAQC,EAAR,CAAe,CAC1BlC,qBAAqB,CAACgC,IAAtB,CAA2BC,KAA3B,CAAkCC,EAAlC,EACGX,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAtB,cAAc,CAACmB,QAAQ,CAACG,IAAT,CAAcvB,WAAf,CAAd,CACD,CAJH,EAKGwB,KALH,CAKS,SAAAX,CAAC,CAAI,CACVQ,OAAO,CAACC,GAAR,CAAYT,CAAZ,EACD,CAPH,EAQD,CATD,CAWA,GAAMkB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBH,IAAI,CAAC1B,UAAD,CAAa,MAAb,CAAJ,CACD,CAFD,CAIA,GAAM8B,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBJ,IAAI,CAACxB,SAAD,CAAY,SAAZ,CAAJ,CACD,CAFD,CAIA,GAAM6B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAI3B,aAAa,EAAI,cAArB,CAAqC,CACnCqB,WAAW,GACZ,CAFD,IAEO,CACLC,IAAI,CAACtB,aAAD,CAAgB,SAAhB,CAAJ,CACD,CACF,CAND,CAQA,mBACE,oCACE,aAAK,SAAS,CAAC,UAAf,wBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,gBAHd,CAIE,KAAK,CAAEJ,UAJT,CAKE,QAAQ,CAAEU,kBALZ,EADF,cAQE,YAAK,SAAS,CAAC,oBAAf,uBACE,eACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEmB,UAHX,oBADF,EARF,GADF,cAmBE,aAAK,SAAS,CAAC,sBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,eAHd,CAIE,KAAK,CAAE3B,SAJT,CAKE,QAAQ,CAAEY,iBALZ,EADF,cAQE,YAAK,SAAS,CAAC,oBAAf,uBACE,eACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEgB,SAHX,oBADF,EARF,GAnBF,cAqCE,aAAK,SAAS,CAAC,sBAAf,wBAEE,eAAQ,QAAQ,CAAEf,qBAAlB,UACIT,QAAQ,CAAC0B,GAAT,CAAa,SAAAC,OAAO,CAAI,CACvB,mBACE,gBAAQ,KAAK,CAAEA,OAAf,eAA0BA,OAAO,CAACC,MAAR,CAAe,CAAf,CAAkB,EAAlB,CAA1B,OADF,CAGD,CAJA,CADJ,EAFF,cASE,YAAK,SAAS,CAAC,oBAAf,uBACE,eACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEH,aAHX,oBADF,EATF,GArCF,GADF,cA2DE,YAAK,SAAS,CAAC,KAAf,UACGjC,WAAW,CAACkC,GAAZ,CAAgB,SAACG,UAAD,CAAgB,CAC/B,GAAMC,CAAAA,OAAO,WAAMD,UAAU,CAACC,OAAX,CAAmBC,QAAzB,aAAqCF,UAAU,CAACC,OAAX,CAAmBE,MAAxD,cAAmEH,UAAU,CAACC,OAAX,CAAmBG,OAAtF,CAAb,CACA,mBACE,YAAK,SAAS,CAAC,eAAf,uBACE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BJ,UAAU,CAACK,IAAvC,EADF,cAEE,WAAG,SAAS,CAAC,WAAb,wBACE,qCADF,CAC6BL,UAAU,CAACF,OADxC,cACgD,aADhD,cAEE,qCAFF,CAE6BG,OAF7B,GAFF,cAME,aAAK,SAAS,CAAC,KAAf,wBACA,KAAC,IAAD,EAAM,EAAE,CAAE,gBAAgBD,UAAU,CAACM,GAArC,CAA0C,SAAS,CAAC,oCAApD,0BADA,cAIA,UAAG,MAAM,CAAC,QAAV,CAAmB,IAAI,CAAE,qCAAuCL,OAAhE,CAAyE,SAAS,CAAC,oCAAnF,sBAJA,GANF,GADF,EADF,EADF,CAmBD,CArBA,CADH,EA3DF,GADF,CAwFD,CA3KD,CA6KA,cAAexC,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport RestaurantDataService from \"../services/restaurant\";\nimport { Link } from \"react-router-dom\";\n\nconst RestaurantsList = props => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [searchName, setSearchName ] = useState(\"\");\n  const [searchZip, setSearchZip ] = useState(\"\");\n  const [searchCuisine, setSearchCuisine ] = useState(\"\");\n  const [cuisines, setCuisines] = useState([\"All Cuisines\"]);\n\n  useEffect(() => {\n    retrieveRestaurants();\n    retrieveCuisines();\n  }, []);\n\n  const onChangeSearchName = e => {\n    const searchName = e.target.value;\n    setSearchName(searchName);\n  };\n\n  const onChangeSearchZip = e => {\n    const searchZip = e.target.value;\n    setSearchZip(searchZip);\n  };\n\n  const onChangeSearchCuisine = e => {\n    const searchCuisine = e.target.value;\n    setSearchCuisine(searchCuisine);\n    \n  };\n\n  const retrieveRestaurants = () => {\n    RestaurantDataService.getAll()\n      .then(response => {\n        console.log(response.data);\n        setRestaurants(response.data.restaurants);\n        \n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const retrieveCuisines = () => {\n    RestaurantDataService.getCuisines()\n      .then(response => {\n        console.log(response.data);\n        setCuisines([\"All Cuisines\"].concat(response.data));\n        \n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const refreshList = () => {\n    retrieveRestaurants();\n  };\n\n  const find = (query, by) => {\n    RestaurantDataService.find(query, by)\n      .then(response => {\n        console.log(response.data);\n        setRestaurants(response.data.restaurants);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const findByName = () => {\n    find(searchName, \"name\")\n  };\n\n  const findByZip = () => {\n    find(searchZip, \"zipcode\")\n  };\n\n  const findByCuisine = () => {\n    if (searchCuisine == \"All Cuisines\") {\n      refreshList();\n    } else {\n      find(searchCuisine, \"cuisine\")\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"row pb-1\">\n        <div className=\"input-group col-lg-4\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Search by name\"\n            value={searchName}\n            onChange={onChangeSearchName}\n          />\n          <div className=\"input-group-append\">\n            <button\n              className=\"btn btn-outline-secondary\"\n              type=\"button\"\n              onClick={findByName}\n            >\n              Search\n            </button>\n          </div>\n        </div>\n        <div className=\"input-group col-lg-4\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Search by zip\"\n            value={searchZip}\n            onChange={onChangeSearchZip}\n          />\n          <div className=\"input-group-append\">\n            <button\n              className=\"btn btn-outline-secondary\"\n              type=\"button\"\n              onClick={findByZip}\n            >\n              Search\n            </button>\n          </div>\n        </div>\n        <div className=\"input-group col-lg-4\">\n\n          <select onChange={onChangeSearchCuisine}>\n             {cuisines.map(cuisine => {\n               return (\n                 <option value={cuisine}> {cuisine.substr(0, 20)} </option>\n               )\n             })}\n          </select>\n          <div className=\"input-group-append\">\n            <button\n              className=\"btn btn-outline-secondary\"\n              type=\"button\"\n              onClick={findByCuisine}\n            >\n              Search\n            </button>\n          </div>\n\n        </div>\n      </div>\n      <div className=\"row\">\n        {restaurants.map((restaurant) => {\n          const address = `${restaurant.address.building} ${restaurant.address.street}, ${restaurant.address.zipcode}`;\n          return (\n            <div className=\"col-lg-4 pb-1\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{restaurant.name}</h5>\n                  <p className=\"card-text\">\n                    <strong>Cuisine: </strong>{restaurant.cuisine}<br/>\n                    <strong>Address: </strong>{address}\n                  </p>\n                  <div className=\"row\">\n                  <Link to={\"/restaurants/\"+restaurant._id} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">\n                    View Reviews\n                  </Link>\n                  <a target=\"_blank\" href={\"https://www.google.com/maps/place/\" + address} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">View Map</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n\n\n      </div>\n    </div>\n  );\n};\n\nexport default RestaurantsList;"]},"metadata":{},"sourceType":"module"}